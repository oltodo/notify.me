/*!
 * notify.me 0.2.1
 * https://github.com/oltodo/notify.me
 * Copyright 2013 Oltodo, Inc. and other contributors; Licensed MIT
 */

!function(a){!function(){var b={info:{icon:"icon icon-info",duration:5},warning:{icon:"icon icon-warning",duration:10},success:{icon:"icon icon-success",duration:5},error:{icon:"icon icon-error",duration:!1}},c={top:null,"top-left":null,"top-right":null,bottom:null,"bottom-left":null,"bottom-right":null,center:null},d=function(c,d){var f=e.getStack(d.stack||"top-right"),g=null,h=c;c=b[h],c.name=h;var i=c.icon;"undefined"!=typeof d.icon&&(i=d.icon);var j=c.duration;"undefined"!=typeof d.duration&&(j=d.duration);var k=function(){p.addClass("ni-shown")},l=function(){p.addClass("ni-hidden"),setTimeout(function(){p.remove(),f._calculPositionsForCenterStack()},300)},m=function(){null!==g&&clearTimeout(g)},n=function(){m(),g=setTimeout(l,1e3*j)},o="";o+='<div class="notifyme-item ni-'+c.name+'">',o+='    <span class="ni-close">&times;</span>',i&&(o+='    <span class="ni-icon">',o+='        <i class="'+i+'"></i>',o+="    </span>"),d.title&&(o+='<p class="ni-title">'+d.title+"</p>"),d.text&&(o+='<p class="ni-text">'+d.text+"</p>"),o+="</div>";var p=a(o);return p.find(".ni-close").on("click",function(){l()}),j&&(n(),p.hover(m,n)),/^bottom/.test(f.name)?f.prepend(p):f.append(p),setTimeout(k,10),{show:k,close:l}},e=function(a){this._init(a)};e.getStack=function(a){if("undefined"==typeof c[a])throw new Error("Unknown stack `"+a+"`");return null===c[a]&&(c[a]=new e(a)),c[a]},e.prototype={_init:function(b){this.name=b,this._initView(),a("body").append(this.$view)},_initView:function(){var b="";return b+='<div class="notifyme-stack ns-'+this.name+'">',b+="</div>",this.$view=a(b),this},_add:function(a,b){return this.$view[a](b),this._calculPositionsForCenterStack(),this},_calculPositionsForCenterStack:function(){if("center"==this.name){var a=this.$view.height(),b=this.$view.width();this.$view.css({marginTop:"-"+a/2+"px",marginLeft:"-"+b/2+"px"})}},append:function(a){return this._add("append",a)},prepend:function(a){return this._add("prepend",a)}},a.notify=function(){},a.notify.useBootstrap3=function(){b.info.icon="glyphicon glyphicon-info-sign",b.warning.icon="glyphicon glyphicon-exclamation-sign",b.success.icon="glyphicon glyphicon-ok-sign",b.error.icon="glyphicon glyphicon-warning-sign"},a.notify.useBootstrap2=function(){b.info.icon="icon-info-sign",b.warning.icon="icon-exclamation-sign",b.success.icon="icon-ok-sign",b.error.icon="icon-warning-sign"},a.notify.useFontAwesome=a.notify.useBootstrap2;var f=function(b){return function(){var c=arguments;if(c.length>3)throw new Error("Too much arguments");var e={};for(var f in c){var g=c[f];switch(typeof g){case"string":e.text&&(e.title=e.text),e.text=g;break;case"object":e=a.extend(e,g);break;default:throw new Error("Unknown argument type `"+typeof g+"` of `"+g+"`")}}return d(b,e)}};for(var g in b)a.notify[g]=f(g)}()}(window.jQuery);